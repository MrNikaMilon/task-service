# Task service API


### Описание
Апи предсоатвлет базовые операции по созданию, обновлению, удалению задач пользоватлем
Так же доступны методы для саммери по здачама, по юзерам и прочим метрикам
В API доступна обща яинтегарция с телеграм ботом специально для получения актуальной информации по задачам и обновлении их

### Аутентефикация
В приложении есть два базовых подхода по аутентефикации:
  - базовая используя GitHub аккаунт пользователя
  - через телеграм бота
     - так же возомжно привязать два разных аккаунта тг и гитхаб (~~в процессе реализации~~)

### API
  - `tasks/create` - создание задачи согалсно схеме указанной в swagger
  - `task/get/{id}` - поулчение таски по конкретному id
  - `task/get/id=null&page=1&size=1&sort=date-` - запрос массива задач юзера с пагинацией и сортировкой опционально (дефолтная сортировка по date asc, дефолтный размер 1 и странциа 1)
  - `task/get/summery/user=id&date=2025-01-09` - запрос саммери по задачам и кастомным параметрам
  - `task/update/{id}` - обвноление задачи по id, с фиксированным телом указанным в swagger
  - `task/update/status/status` -  точечное обновление статуса задачи при перемещении ее на таймлайне
  - `task/delete/soft=false` - удалаение таски, есть флаг soft с дефолтным значением false (жесткое удаление в бд сущности) и так же true что является мягким удалением и сменой статуса на decline

### Интегарции
- интеграция с тг ботом для получения информации по задачам и обновлении статуса
  - tg сервис не имет своей бд (только in memory) и всё общение осуществляет через gRPC с основным сервисом, в тг хранится история переписок пользователя с ботом + кэшируется последний топ задач (можно задать в проперти)
  - почтовая рассылка, postman сервис осуществляет рассылку пользователям при успешной регистрации и расссылку по саммери задач юзера по назначенмы правилам

### ФТ

### ToDo
- ~~TSN-01: init commit, add base structure for project~~
- ~~TSN-02: add base config and base dto~~
- ~~TSN-03: add create task endpoint~~
- TSN-04: add get and summery task endpoints

### Правила оформления кода и общий gitflow
- Коммиты и мр содержат в названии TSN (***Task Service Nion***)
- Нумерация задач идет последовательно инкрементируясь на 1 шаг, фичи, фиксы и релизы имеют свую нумерацию, пример: есть фича 100, но создается только 2 хотфикс и только первый релиз
- Нейминг задач краткий и по существу
- PR формируются после завершения работы по задаче и локальному успешному запуску
- PR вливается сразу в мастер без других веток
- После каждого влитого PR он зачеркивается в README, можно делать локально, перед созданием ветки ее нейминг и номер создается в README
- Про подтеги:
  - feature - фичи
  - realese - релизы версии приложения
  - fix - исправления ошибок 
